<h1>Create</h1>

<h4>Tài khoản</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form method="POST" action="/taikhoan/create" enctype="multipart/form-data" >
            <div class="form-group">
                <label name="MaQuyen" class="control-label">Chức vụ</label>
                <select name="MaQuyen" class ="custom-select" required>
                    <option>--Chọn chức vụ--</option>
                    {{#each phanquyens}}
                    <option value="{{this.MaQuyen}}">{{this.TenQuyen}}</option>
                    {{/each}}
                </select>
            </div>
            <div class="form-group">
                <label name="MaCuaHang" class="control-label">Cửa hàng</label>
                <select name="MaCuaHang" class ="custom-select" required>
                    <option>--Chọn cửa hàng--</option>
                    {{#each cuahangs}}
                    <option value="{{this.MaCuaHang}}">{{this.TenCuahang}}</option>
                    {{/each}}
                </select>
            </div>
            <div class="form-group">
                <label name="HoTen" class="control-label">Họ tên</label>
                <input name="HoTen" class="form-control" />
            </div>          
            <div class="form-group">
                <label name="HinhAnh" class="control-label">Hình ảnh</label>
                <input type="file" name="HinhAnh" class="form-control" />
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label name="" class="control-label">SDT</label>
                <input name="SDT" class="form-control" />
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label name="NgaySinh" class="control-label">Ngày sinh</label>
                <input type="date" name="NgaySinh" class="form-control" />
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label name="Gioitinh" class="control-label">Giới tính</label>
                <select name="Gioitinh" class="custom-select" required>
                    {{#each gioitinh}}
                    <option value="{{this.value}}">{{this.value}}</option>
                    {{/each}}
                </select>
                <span class="text-danger"></span>
            </div>           
            <div class="form-group">
                <label name="Email" class="control-label">Email</label>
                <input type="email" name="Email" class="form-control" required />
                {{#if message}}
                <span class="text-danger">Email đã tồn tại!</span>
                {{/if}}
            </div>
            <div class="form-group">
                <label name="Matkhau" class="control-label">Mật khẩu</label>
                <input type="password" class="form-control" id="password" required/>
                <span class="text-danger"></span>
            </div>
            <div class="form-group">
                <label name="Matkhau" class="control-label">Nhập lại mật khẩu</label>
                <input type="password" name="matkhau" class="form-control" id="confirm-password" required/>
                <span id="errorPass" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" id="submit-btn" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<div>
    <a href="/taikhoan/index">Quay lại</a>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var password_input = document.getElementById('password')
        var confirmPassword_input = document.getElementById('confirm-password')
        var message = document.getElementById('errorPass')
        var btnSubmit = document.getElementById('submit-btn')
        //
        confirmPassword_input.addEventListener('change', function(event) {
            if (password_input.value !== confirmPassword_input.value) {
                message.textContent  = 'Mật khẩu không khớp vui lòng nhập lại'
                btnSubmit.disabled = true
            }else{
                message.textContent  = ''
                btnSubmit.disabled = false
            }
        })
        //
        password_input.addEventListener('change', function(event) {
            if (password_input.value !== confirmPassword_input.value) {
                message.textContent  = 'Mật khẩu không khớp vui lòng nhập lại'
                btnSubmit.disabled = true
            }else{
                message.textContent  = ''
                btnSubmit.disabled = false
            }
        })
    })
</script>
